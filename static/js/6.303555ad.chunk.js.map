{"version":3,"sources":["UI/Article/Weather/Weather.tsx","UI/Article/Weather/ContainerWeather.tsx","UI/Bricks/SearchBar.tsx"],"names":["StatisticForDay","props","className","main","temp","Math","ceil","xmlns","width","height","fill","viewBox","d","wind","speed","weather","description","StatisticForWeek","curDate","date","weathers","allWeather","map","w","Date","valueOf","getDate","getMonth","Weather","useState","timeDate","setTimeDate","typeButton","setTypeButton","useEffect","setWeatherThunk","news","reverse","slice","SearchBar","term","submit","onClick","length","compose","connect","state","mainTheme","getNews","withHeader","React","memo","initialValues","validate","values","error","maxLength","onSubmit","handleChange","handleSubmit","isSubmitting","errors","name","style","background","border","borderBottom","outline","onChange","value","type"],"mappings":"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","file":"static/js/6.303555ad.chunk.js","sourcesContent":["import { DayItem, NewItem } from \"../../../Types/type\";//Type\r\nimport React, { useEffect, useState } from \"react\";\r\nimport SearchBar from \"../../Bricks/SearchBar\"\r\n\r\ntype PropsType={\r\n    description:string,\r\n    mainTheme:string,\r\n    news:Array<any>//jsx object\r\n    allWeather:Array<DayItem>\r\n    setWeatherThunk:(city?:string)=>void\r\n    term:string\r\n}\r\n\r\nlet Weather:React.FC<PropsType>=(props)=>{\r\n    let [timeDate,setTimeDate]=useState((new Date()).valueOf())\r\n    let [typeButton,setTypeButton]=useState(true)//true - next,false - prev\r\n    let changeWeek=()=>{\r\n        if(typeButton){\r\n            setTimeDate(timeDate+24*60*60*1000*7)\r\n        }\r\n        else{\r\n            setTimeDate(timeDate-24*60*60*1000*7)\r\n        }\r\n        setTypeButton(!typeButton)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        props.setWeatherThunk()\r\n    },[])\r\n    return<div className=\"container mt-4\">\r\n        <h1>\r\n            Latest Features:\r\n        </h1>\r\n        <div className=\"row\">\r\n            {[...props.news].reverse().slice(0,3)}\r\n        </div>\r\n        <h1 className=\"mt-4\">\r\n            Forecast for today\r\n        <div className=\"right mb-2\">\r\n            <SearchBar term={props.term ? props.term : \"London\"} submit={props.setWeatherThunk} />\r\n        </div>\r\n        </h1>\r\n        <div className=\"\">\r\n            <StatisticForDay {...props.allWeather[0]}/>\r\n        </div>\r\n        <div className=\"mt-4\">\r\n            <h1>\r\n                Forecst for week\r\n                <div className=\"right\">\r\n                    <button className=\"btn btn-outline-primary\" \r\n                    onClick={changeWeek}>\r\n                        {typeButton ? \"Next\" : \"Prev\"}\r\n                    </button>\r\n                </div>\r\n            </h1>\r\n            {props.allWeather.length>5 &&\r\n            (typeButton ? \r\n            <StatisticForWeek date={timeDate} allWeather={props.allWeather.slice(0,7)} />\r\n            :\r\n            <StatisticForWeek date={timeDate} allWeather={props.allWeather.slice(7,14)} />)}        \r\n        </div>\r\n    </div>\r\n}\r\n\r\nlet StatisticForDay:React.FC<DayItem>=(props)=>{\r\n    return<table className=\"table table-primary \r\n    table-bordered table-striped border-light\">\r\n    <thead>\r\n        <tr>\r\n            <th>Temperature</th>\r\n            <th>Wind</th>\r\n            <th>Description</th>\r\n        </tr>\r\n    </thead>\r\n    {props && <tbody>\r\n        <tr>\r\n            <td>\r\n            {props.main.temp \r\n            && Math.ceil(props.main.temp -273)}\r\n            <sup>o</sup>\r\n            <div className=\"right\">\r\n            {props.main.temp-273 && props.main.temp-273 <= 0 &&\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-asterisk\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1z\"/>\r\n            </svg>}\r\n            {props.main.temp-273 && props.main.temp-273 > 0 &&\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-brightness-high\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z\"/>\r\n            </svg>}\r\n            </div>\r\n            </td>\r\n            <td>{props.wind.speed}</td>\r\n            <td>{props.weather[0].description}</td>\r\n        </tr>\r\n    </tbody>}\r\n</table>\r\n}\r\ntype StatisticForDayType={\r\n    allWeather:Array<DayItem>\r\n    date:number\r\n}\r\nlet StatisticForWeek:React.FC<StatisticForDayType>=(props)=>{\r\n    let allMonth=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]\r\n    let curDate=props.date;\r\n    let weathers=props.allWeather.map(w=>{\r\n        curDate=(new Date(curDate+24*60*60*1000)).valueOf()\r\n        return<tr key={curDate}>\r\n            <td>{new Date(curDate-24*60*60*1000).getDate()}</td>\r\n            <td className=\"center\">\r\n                {Math.ceil(w.main.temp -273)}\r\n                <sup>\r\n                    o\r\n                </sup>\r\n            </td>\r\n            <td>{w.wind.speed}</td>\r\n        </tr>})\r\n    return<div>\r\n        <table className=\"table table-primary \r\n        table-bordered table-striped border-light\">\r\n            <thead>\r\n                <tr>\r\n                    <th>{allMonth[(new Date(props.date)).getMonth()]}</th>\r\n                    <th>Temperature</th>\r\n                    <th>Wind</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {weathers}\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n}\r\n\r\nexport default Weather","import { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport Weather from \"./Weather\";\r\nimport { AppStateType } from \"../../../Redux/Redux\";\r\nimport getNews from \"../../../Redux/Selectors/getNews\";\r\nimport withHeader from \"../../../HOC/withHeader\";\r\nimport {setWeatherThunk} from \"../../../Redux/Reducers/reduceWeather\"\r\nimport { DayItem } from \"../../../Types/type\";\r\n\r\ntype MSTPType={\r\n    description:string,\r\n    mainTheme:string,\r\n    news:Array<any>//Array with jsx\r\n    allWeather:Array<DayItem>\r\n    term:string\r\n}\r\ntype MDTPType={\r\n    setWeatherThunk:(city?:string)=>void\r\n}\r\ntype OwnPropsType={}\r\nlet mapStateToProps=(state:AppStateType):MSTPType=>{\r\n    return{\r\n    description:state.weather.description,\r\n    mainTheme:state.weather.mainTheme,\r\n    news:getNews(state.weather.news),\r\n    allWeather:state.weather.allWeather,\r\n    term:state.weather.term\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect<MSTPType,MDTPType,OwnPropsType,AppStateType>\r\n    (mapStateToProps,{setWeatherThunk}),\r\n    withHeader)(Weather)\r\n","import { Formik } from \"formik\"\r\nimport React from \"react\"\r\n\r\ntype PropsType={\r\n    term:string,\r\n    submit:(city:string)=>void\r\n}\r\n\r\nlet SearchBar:React.FC<PropsType>=React.memo((props)=>{\r\n    return<Formik\r\n    initialValues={{term:props.term}}\r\n    validate={(values:{term:string})=>{\r\n        const error={\r\n            maxLength:null as null|string\r\n        }\r\n        if(values.term.length>40){\r\n            error.maxLength=\"max length is 40\"\r\n            return error\r\n        }\r\n        return {}\r\n    }}\r\n    onSubmit={(values)=>{\r\n        props.submit(values.term)\r\n    }}\r\n    >\r\n    {({\r\n        handleChange,\r\n        handleSubmit,\r\n        isSubmitting,\r\n        errors,\r\n        values\r\n    })=>{\r\n        return<form onSubmit={handleSubmit}>\r\n            <div className=\"d-flex center\">\r\n                <input name={\"term\"} style={{background:\"transparent\", border: \"none\", \r\n                borderBottom: \"1px solid black\",outline:\"none\"}} onChange={handleChange} \r\n                value={values.term} type={\"search\"} />\r\n                <button type=\"submit\" className=\"btn btn-outline-primary\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"currentColor\" className=\"bi bi-search\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\"/>\r\n                </svg>\r\n                </button>\r\n            </div>\r\n        </form>\r\n    }}\r\n    </Formik>\r\n})\r\n\r\nexport default SearchBar"],"sourceRoot":""}